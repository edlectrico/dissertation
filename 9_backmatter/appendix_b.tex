
\chapter{The AdaptUI Rules}
\label{cha:appendixB}

This appendix lists all the included default rules in AdaptUIOnt. The rules
are classified taking into account their participation in the adaptation process.
Thus, the pre-adaptation rules set are is detailed in Table~\ref{tbl:pre_adaptation_rules}.
Next, Table~\ref{tbl:adaptation_rules} lists the adaptation rules. Table~\ref{tbl:usability_rules}
shows the usability rules. Finally, the post-adaptation rules are detailed in 
Table~\ref{tbl:post_adaptation_rules}. 

\begin{table}
  \caption{The AdaptUIOnt pre-adaptation rules.}
 \label{tbl:pre_adaptation_rules}
\footnotesize
\centering
 \begin{tabular}{l l l}
  \hline 
  \textbf{Pre-adaptation rule} 			& \textbf{Involved ontologies} 	& \textbf{Description} 	\\
						& \textbf{and classes} 		& 			\\
  \hline
  \textit{checkBatteryLevelIsSufficient}& \textit{soupa:Battery}	& Considering Table~\ref{tbl:batteries} this rule\\
					& \textit{adaptui:Device}	& evaluates if the current battery 		\\
					& \textit{adaptui:DeviceAux}	& level is enough to perform any 		\\
					&				& adaptation. 					\\
  \hline
  
  \textit{checkLightLevelDarkOvercast}	& \textit{adaptui:Context}	& These rules evaluate the context   		\\
  \textit{checkLightLevelTwilight}	& \textit{adaptui:ContextAux}	& light input through sensors by  		\\
  \textit{checkLightLevelSunrise}	& \textit{umo:Light}		& using the classification shown in 		\\
  \textit{checkLightLevelOvercast}	& 				& Table~\ref{tbl:luminance}. The result of this \\
  \textit{checkLightLevelOfficeLightning}&				& evaluation would be a verbose  		\\
  \textit{checkLightLevelOfficeHallway}	&				& concept (e.g., \textit{sunrise}) which is   	\\
  \textit{checkLightLevelMoonlessClear}	&				& stored in the ontology using the  		\\
  \textit{checkLightLevelDayLight}	& 				& \textit{contextAuxHasLightLevel} datatype	\\
  \textit{checkLightLevelDirectSunlight}& 				&  property.					\\
  \textit{checkLightLevelFullMoon}	& 				& 						\\
  \textit{checkLightLevelLivingRoom}	& 				& 						\\
  \hline
  
  \textit{checkNoiseLevelBreathing}	& \textit{adaptui:Context}	& These rules evaluate the context 	 	\\
  \textit{checkNoiseLevelTruck}		& \textit{adaptui:ContextAux}	& noise input through sensors by  		\\
  \textit{checkNoiseLevelTrain}		& \textit{umo:Noise}		& using the classification  shown in 		\\
  \textit{checkNoiseLevelTraffic}	& 				& Table~\ref{tbl:sounds}. The result of this 	\\
  \textit{checkNoiseLevelOffice}	&				& evaluation would be a verbose 		\\
  \textit{checkNoiseLevelLibrary}	&				& concept (e.g., \textit{sunrise}) which is  	\\
  \textit{checkNoiseLevelLeavesMurmuring}&				& stored in the ontology using the 		\\
  \textit{checkNoiseLevelBreathing}	&				& \textit{contextAuxHasNoiseLevel} datatype	\\
  \textit{checkNoiseLevelBuildingWork}	&				& property.					\\
  \textit{checkNoiseLevelConversation}	&				& 						\\
  \textit{checkNoiseLevelFactory}	&				& 						\\
  \textit{checkNoiseLevelGig}		&				& 						\\
  \textit{checkNoiseLevelJackhammer}	&				& 						\\
  \hline
  
  \textit{checkUserHasAttentionRestriction}& \textit{adaptui:Activity}	& If the current activity impedes the 		\\
  \textit{checkUserHasNoRestriction}	& \textit{adaptui:UserAux}	& user, these rules would store the 		\\
  \textit{checkUserHasSightRestriction}	&				& corresponding boolean value in the 		\\
  \textit{checkUserHasMovementRestriction}&				& \textit{userAuxHasRestriction} datatype 	\\
  \textit{checkUserHasHandsRestriction}	&				& property.					\\
  \textit{checkUserHasHearingRestriction}&				& 						\\
  \hline
\end{tabular}
\end{table}

Equation~\ref{ec:pre_adaptation_rule} shows an example of the 
\textit{checkNoiseLevelTraffic} pre-adaptation rule.

\footnotesize
\begin{equation} \label{ec:pre_adaptation_rule}
  \begin{align*} 
  Context(?context) ∧ Noise(?noise) ∧ ContextAux(?caux) ∧ \\
  contextHasNoise(?noise, ?value) ∧ lessThanOrEqual(?value, 70) ∧ \\
  greaterThan(?value, 60) \\
  \Rightarrow \\
  contextAuxHasNoiseLevel(?caux, "traffic")
  \end{align*}
\end{equation}
\normalsize


\begin{table}
  \caption{The AdaptUIOnt adaptation rules.}
 \label{tbl:adaptation_rules}
\footnotesize
\centering
 \begin{tabular}{l l l}
  \hline 
  \textbf{Adaptation rule} 	& \textbf{Involved ontologies} 	& \textbf{Description} 		\\
				& \textbf{and classes} 		& 				\\
  \hline
  \textit{adaptBrightness}	& \textit{adaptui:Adaptation}	& These rules consider the  	\\
				& \textit{adaptui:DeviceAux}	& values stored in the \textit{UserAux}\\
				& \textit{adaptui:UserAux}	& class to adapt the brightness \\
  \textit{adaptVolume}		& \textit{adaptui:Brightness}	& and volume accordingly. 	\\
				& \textit{adaptui:Volume}	& 				\\
				& \textit{adaptui:Display}	& 				\\
  \hline 
  \textit{adaptButtonSize}	& \textit{adaptui:Adaptation}	& These rules take into account	\\
				& \textit{adaptui:DeviceAux}	& the current button configuration\\
				& \textit{adaptui:UserAux}	& and the sensed context disabilities.\\
  \textit{adaptButtonColor}	& \textit{adaptui:Button}	& 				\\
  \textit{adaptButtonBackgroundColor}&				& 				\\
  \textit{adaptButtonTextColor}	& 				& 				\\

  \hline
  \textit{adaptEditTextSize}	& \textit{adaptui:Adaptation}	& These rules take into account	\\
				& \textit{adaptui:DeviceAux}	& the current edit text configu-\\
				& \textit{adaptui:UserAux}	& ration and the sensed	context	\\
  \textit{adaptEditTextBackgroundColor}	& \textit{adaptui:EditText}& disabilities.		\\
  \textit{adaptEditTextTextSize}& 				& 				\\
  \textit{adaptEditTextTextColor}&				& 				\\

  \hline 
  \textit{adaptTextViewtSize}	& \textit{adaptui:Adaptation}	& These rules take into account	\\
				& \textit{adaptui:DeviceAux}	& the current text view configu-\\
				& \textit{adaptui:UserAux}	& ration and the sensed	context	\\
  \textit{adaptTextViewtBackgroundColor}& \textit{adaptui:TextView}& disabilities.		\\
  \textit{adaptTextViewtTextSize}&				& 				\\
  \textit{adaptTextViewtTextColor}&				& 				\\
  \hline 
\end{tabular}
\end{table}

Equation~\ref{ec:adaptation_rule} shows an example of the \textit{adaptBrightness} 
adaptation rule.

\footnotesize
\begin{equation} \label{ec:adaptation_rule}
  \begin{align*} 
  Adaptation(?adaptation) ∧ DeviceAux(?device) ∧ UserAux(?user) ∧ \\
  deviceAuxBatteryIsSufficient(?device, ?battery) ∧ equal(?battery, true) ∧ \\
  userAuxHasDisplayBrightness(?user, ?brightness) ∧ equal(?brightness, 255)\\ 
  \Rightarrow \\
  adaptationBrightnessHasValue(?adaptation, ?brightness)\\
  \end{align*}
\end{equation}
\normalsize



\begin{table}
  \caption{The AdaptUIOnt usability rules. The metrics mentioned in this table
  are detailed in Table~\ref{tbl:effectiveness_metrics} and Table~\ref{tbl:productivity_metrics}.}
 \label{tbl:usability_rules}
\footnotesize
\centering
 \begin{tabular}{l l l}
  \hline 
  \textbf{Usability rule} 	& \textbf{Involved ontologies} 	& \textbf{Description} 		\\
				& \textbf{and classes} 		& 				\\
  \hline
  \textit{checkTaskEffectiveness}&\textit{adaptui:UserAux}	& It measures the proportion of \\
				& \textit{adaptui:Effectiveness}& goals of the task achieved	\\
				& \textit{adaptui:Polisher}	& correctly. 			\\
  \textit{checkTaskCompletion}	& 				& It measures the proportion of	\\
				& 				& the task that is completed.	\\
  \textit{checkErrorFrequency}	& 				& It measures the frequency of 	\\
				& 				& errors.			\\
  \hline
  \textit{checkTaskTime}	& \textit{adaptui:UserAux}	& It measures the required time	\\
				& \textit{adaptui:Productivity}	& to complete the current task.	\\
  \textit{checkTaskEfficiency}	& \textit{adaptui:Polisher}	& It measures the efficiency of	\\
				& 				& the user.			\\
  \textit{checkEconomicProductivity} &				& It measures the cost-effectiveness\\
				&				& of the user.			\\
  \textit{checkProductiveProportion} & 				& It measures the proportion of \\
				& 				& the time the user is performing\\
				&				& productive actions.		\\
  \textit{checkRelativeUserEfficiency}& 			& It compares the efficiency of the\\
				&				& user compared to an expert.	\\
  \hline
\end{tabular}
\end{table}

Equation~\ref{ec:usability_rule} shows an example of the \textit{checkRelativeEfficiency} 
adaptation rule.

\footnotesize
\begin{equation} \label{ec:usability_rule}
  \begin{align*} 
  UserAux(?user) ∧ Productivity(?productivity) ∧ Polisher(?polisher) ∧\\ 
  userAuxHasProductivityMetrics(?user, ?productivity) ∧ \\
  hasRelativeEfficiency(?productivity, ?efficiency) ∧ \\
  lessThanOrEqual(?efficiency, 0.5) ∧ \\
  \\
  \Rightarrow \\
  launchPolisherRules(?polisher, true)
  \end{align*}
\end{equation}
\normalsize

\begin{table}
  \caption{The AdaptUIOnt post-adaptation rules. For edit texts and text views
  the same rules that are applied for the buttons are provided.}
 \label{tbl:post_adaptation_rules}
\footnotesize
\centering
 \begin{tabular}{l l l}
  \hline 
  \textbf{Adaptation rule} 	& \textbf{Involved ontologies} 	& \textbf{Description} 		\\
				& \textbf{and classes} 		& 				\\
  \hline
  \textit{incrementBrightness}	& \textit{adaptui:UserAux}	& It increments the brightness of\\
				& \textit{adaptui:Polisher}	& the device in $1$F.		\\
  \textit{decrementBrightness}	& \textit{adaptui:Adaptation}	& It decrements the brightness of\\
				& 				& the device in $1$F.		\\
  \textit{incrementVolume}	& 				& It increments the volume of	\\
				& 				& the device in $1$ unit.	\\
  \textit{decrementVolume}	& 				& It decrements the volume of	\\
				& 				& the device in $1$ unit.	\\
  \hline
  \textit{incrementButtonSize}	& \textit{adaptui:UserAux}	& It increments the size of the \\
				& \textit{adaptui:Polisher}	& button adding $10$ dpis. 	\\
  \textit{decrementButtonSize}	& \textit{adaptui:Adaptation}	& It decrements the size of the \\
				& 				& button in $10$ dpis.		\\
  \textit{darkenButtonBackgroundColor}&				& It darkens the colour.	\\
  \textit{lightenButtonBackgroundColor}&			& It lightens the colour.	\\
  \textit{darkenButtonTextColor}&				& It darkens the text colour.	\\
  \textit{lightenButtonTextColor}&				& It lightens the text colour.	\\
  \hline
\end{tabular}
\end{table}

Equation~\ref{ec:polisher_rule} shows an example of the \textit{incrementButtonSize} 
post-adaptation rule.

\footnotesize
\begin{equation} \label{ec:polisher_rule}
  \begin{align*} 
  Polisher(?polisher) ∧ launchPolisherRules(?polisher, true) ∧\\
  UserAux(?user) ∧ userAuxHasEffectivenessMetrics(?user, ?effectiveness) ∧ \\
  effectivenessMetricHasErrorFreequency(?effectiveness, ?freq?) ∧\\
  greaterThan(?freq, 0.5) ∧ Adaptation(?adaptation) ∧\\
  adaptationHasButtonSize(?adaptation, ?size)
  \Rightarrow \\
  adaptationButtonHasSize(?adaptation, ?size + 10)
  \end{align*}
\end{equation}
\normalsize
