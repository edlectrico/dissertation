\section{The Application Layer}
\label{sec:application_layer}

The last layer of the AdaptUI architecture is the Application Layer. This layer
aims to ease the use of the AdaptUI platform to developers. To do this, several
tools have been provided. These tools have been designed not only to integrate
AdaptUI within developers' applications (to adapt their user interfaces) but also
to leave in their hands the decision of how to manage the knowledge of the AdaptUI
platform. Thus, through the AdaptUI provided \ac{api}, developers are allowed to:

\begin{enumerate}[label=\alph*)]
 \item Initialize a Pellet reasoner and connect the application to it, loading
 the AdaptUIOnt ontology and its rules.
 
 \item Launch queries about the knowledge stored in the ontology in order to
 adapt the corresponding user interface elements.
 
 \item Generate, change and adapt the knowledge contained in AdaptUI. Classes,
 properties and relationships described in the AdaptUIOnt ontology are fully
 customizable by developers to cover the domain of their adaptation problem.
 
 \item Customize the provided set of rules. The AdaptUI \ac{api} provides a set of
 methods to edit different rules.
\end{enumerate}

The AdaptUI's \ac{api} can be internally divided into two separated \acp{api}:
the adaptation \ac{api} and the knowledge \ac{api}. The first one, aiming to solve 
developer's adaptation issues, is described in Section~\ref{sec:adaptation_api};
The second one's purpose is to allow developers for adapting the knowledge of the 
domain.

Nevertheless, this division of the \ac{api} methods is a conceptual split. The
provided methods are available under the same \ac{api}. Table~\ref{tbl:api} 
contains the most significant methods from AdaptUI, regarding the loading of the 
ontology and its initialization.

\begin{center}
\footnotesize
\begin{longtable}{l l}
  \caption{AdaptUI \ac{api} methods.}\\
  \label{tbl:api} \\
  \hline 
  \textbf{Method}				& \textbf{Description}\\
  \hline
  AdaptUI()					& Constructor with no parameters		\\
  AdaptUI(namespace, views)			& This method requires the main ontology 	\\
						& namespace and a Collection with the views	\\
						& to adapt.					\\
  loadOntologyFromFile(path, fileLocation)	& It loads an ontology file from a specific 	\\
						& Android path.					\\
  loadOntologyFromUri(uri)			& Loads the ontology from a specified 		\\
						& \ac{uri}.					\\
  getExternalDirectory()			& Returns the root storage folder in the current\\
						& Android device.				\\
  mapOntology(namespace, fileName)		& It loads the stored ontology to avoid Internet\\
						& connection when managing the namespace.	\\
  getOntologyManager()				& It returns the \textit{OntologyManager} 	\\
						& instance, which gives access to further 	\\
						& operations (i.e., \textit{getIndividualOfClass} and \\
						& \textit{createClass}).			\\
  \hline
\end{longtable}
\end{center}

\input{4_system_architecture/431_adaptation_api}
\input{4_system_architecture/432_knowledge_api}